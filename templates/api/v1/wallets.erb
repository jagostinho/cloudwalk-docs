<% content_for :docs_description do %>
  <meta name="docs:description" content="<%= I18n.t('api.v1.wallets.description') %>">
<% end %>

<h1><%= I18n.t("api.v1.wallets.title") %></h1>

<ol class="table-of-contents">
  <li><a href="#attributes"><%= I18n.t("api.v1.wallets.table_of_contents.attributes") %></a></li>
  <li><a href="#index"><%= I18n.t("api.v1.wallets.table_of_contents.index") %></a></li>
  <li><a href="#show"><%= I18n.t("api.v1.wallets.table_of_contents.show") %></a></li>
  <li><a href="#create"><%= I18n.t("api.v1.wallets.table_of_contents.create") %></a></li>
  <li><a href="#update"><%= I18n.t("api.v1.wallets.table_of_contents.update") %></a></li>
</ol>

<h2 id="attributes"><%= I18n.t("api.v1.wallets.table_of_contents.attributes") %></h2>

<p><%= I18n.t("api.v1.wallets.attributes.paragraph_1") %></p>

<table class="table table-striped table-bordered table-condensed">
  <thead>
    <tr>
      <th><%= I18n.t("api.name") %></th>
      <th><%= I18n.t("api.type") %></th>
      <th><%= I18n.t("api.description") %></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id</td>
      <td>Integer</td>
      <td><%= I18n.t("api.v1.wallets.attributes.list.id") %></td>
    </tr>
    <tr>
      <td>account_id</td>
      <td>String</td>
      <td><%= I18n.t("api.v1.wallets.attributes.list.account_id") %></td>
    </tr>
    <tr>
      <td>name</td>
      <td>String</td>
      <td><%= I18n.t("api.v1.wallets.attributes.list.name") %></td>
    </tr>
    <tr>
      <td>document_type</td>
      <td>String</td>
      <td><%= I18n.t("api.v1.wallets.attributes.list.document_type") %></td>
    </tr>
    <tr>
      <td>document_number</td>
      <td>String</td>
      <td><%= I18n.t("api.v1.wallets.attributes.list.document_number") %></td>
    </tr>
    <tr>
      <td>bank_code</td>
      <td>String</td>
      <td><%= I18n.t("api.v1.wallets.attributes.list.bank_code") %></td>
    </tr>
    <tr>
      <td>agency</td>
      <td>String</td>
      <td><%= I18n.t("api.v1.wallets.attributes.list.agency") %></td>
    </tr>
    <tr>
      <td>account_number</td>
      <td>String</td>
      <td><%= I18n.t("api.v1.wallets.attributes.list.account_number") %></td>
    </tr>
    <tr>
      <td>account_number_check</td>
      <td>String</td>
      <td><%= I18n.t("api.v1.wallets.attributes.list.account_number_check") %></td>
    </tr>
    <tr>
      <td>last_transfer</td>
      <td>String</td>
      <td><%= I18n.t("api.v1.wallets.attributes.list.last_transfer") %></td>
    </tr>
    <tr>
      <td>metadata</td>
      <td>JSON</td>
      <td><%= I18n.t("api.v1.wallets.attributes.list.metadata") %></td>
    </tr>
    <tr>
      <td>updated_at</td>
      <td>String</td>
      <td><%= I18n.t("api.v1.wallets.attributes.list.updated_at") %></td>
    </tr>
    <tr>
      <td>created_at</td>
      <td>String</td>
      <td><%= I18n.t("api.v1.wallets.attributes.list.created_at") %></td>
    </tr>
    <tr>
      <td>created_by</td>
      <td>Integer</td>
      <td><%= I18n.t("api.v1.wallets.attributes.list.created_by") %></td>
    </tr>
    <tr>
      <td>created_via</td>
      <td>String</td>
      <td><%= I18n.t("api.v1.wallets.attributes.list.created_via") %></td>
    </tr>
  </tbody>
</table>

<h2 id="index"><%= I18n.t("api.v1.wallets.table_of_contents.index") %></h2>

<p><%= I18n.t("api.v1.wallets.index.paragraph_1") %></p>

<h3><%= I18n.t("api.method") %></h3>

<pre><code>GET https://api.cloudwalk.io/<%= I18n.t("api.version") %>/wallets?access_token={token}</code></pre>

<h3><%= I18n.t("api.sample") %></h3>

<ul id="index-view-tab" class="nav nav-tabs">
  <li class="active"><a href="#index-tab1">cURL</a></li>
  <li><a href="#index-tab2">Ruby</a></li>
</ul>

<div class="tab-content">
<div class="tab-pane active" id="index-tab1">
<pre><code>$ curl -X GET "https://api.cloudwalk.io/v1/wallets?access_token=$TOKEN"</code></pre>
</div>

<div class="tab-pane" id="index-tab2">
<pre><code data-language="ruby">require 'net/http'

token = 'API_TOKEN'

uri = URI("https://api.cloudwalk.io/v1/wallets?access_token=#{token}")

http = Net::HTTP.new(uri.host, uri.port)
http.use_ssl = true

request = Net::HTTP::Get.new(uri.request_uri)

res = http.request(request)

puts "Response #{res.code} #{res.message}: #{res.body}"
</code></pre>
</div>
</div>

<h3><%= I18n.t("api.response") %></h3>

<pre><code data-language="javascript">{
   "pagination":{
      "page":1,
      "total_pages":1,
      "entries":2,
      "total_entries":2
   },
   "wallets":[
      {
         "wallet":{
            "id":1,
            "account_id":"3202bfaf",
            "name":"John Doe",
            "document_type":"cpf",
            "document_number":"40545255988",
            "bank_code":"001",
            "agency":"0777",
            "account_number":"123456",
            "account_number_check":"7",
            "last_transfer":null,
            "metadata":{},
            "created_by":1,
            "created_via":"api",
            "created_at":"2017-01-27T09:47:49Z",
            "updated_at":"2017-01-27T09:47:49Z"
         }
      },
      {
         "wallet":{
            "id":2,
            "account_id":"10366e63",
            "name":"Jane Roe",
            "document_type":"cpf",
            "document_number":"35245384442",
            "bank_code":"001",
            "agency":"0987",
            "account_number":"765432",
            "account_number_check":"1",
            "last_transfer":null,
            "metadata":{},
            "created_by":1,
            "created_via":"api",
            "created_at":"2017-01-27T10:34:19Z",
            "updated_at":"2017-01-27T10:34:19Z"
         }
      }
   ]
}
</code></pre>

<h2 id="show"><%= I18n.t("api.v1.wallets.table_of_contents.show") %></h2>

<p><%= I18n.t("api.v1.wallets.show.paragraph_1") %></p>

<h3><%= I18n.t("api.method") %></h3>

<pre><code>GET https://api.cloudwalk.io/<%= I18n.t("api.version") %>/wallets/{wallet_id}?access_token={token}</code></pre>

<h3><%= I18n.t("api.sample") %></h3>

<ul id="show-view-tab" class="nav nav-tabs">
  <li class="active"><a href="#show-tab1">cURL</a></li>
  <li><a href="#show-tab2">Ruby</a></li>
</ul>

<div class="tab-content">
<div class="tab-pane active" id="show-tab1">
<pre><code>$ curl -X GET "https://api.cloudwalk.io/v1/wallets/1?access_token=$TOKEN"</code></pre>
</div>

<div class="tab-pane" id="show-tab2">
<pre><code data-language="ruby">require 'net/http'

token = 'API_TOKEN'

uri = URI("https://api.cloudwalk.io/v1/wallets/1?access_token=#{token}")

http = Net::HTTP.new(uri.host, uri.port)
http.use_ssl = true

request = Net::HTTP::Get.new(uri.request_uri)

res = http.request(request)

puts "Response #{res.code} #{res.message}: #{res.body}"
</code></pre>
</div>
</div>

<h3><%= I18n.t("api.response") %></h3>

<pre><code data-language="javascript">{
   "wallet":{
      "id":1,
      "account_id":"3202bfaf",
      "name":"John Doe",
      "document_type":"cpf",
      "document_number":"40545255988",
      "bank_code":"001",
      "agency":"0777",
      "account_number":"123456",
      "account_number_check":"7",
      "last_transfer":null,
      "metadata":{},
      "created_by":1,
      "created_via":"api",
      "created_at":"2017-01-27T09:47:49Z",
      "updated_at":"2017-01-27T09:47:49Z"
   }
}
</code></pre>

<h2 id="create"><%= I18n.t("api.v1.wallets.table_of_contents.create") %></h2>

<p><%= I18n.t("api.v1.wallets.create.paragraph_1") %></p>

<h3><%= I18n.t("api.method") %></h3>

<pre><code>POST https://api.cloudwalk.io/<%= I18n.t("api.version") %>/wallets?access_token={token}</code></pre>

<h3><%= I18n.t("api.sample") %></h3>

<ul id="create-view-tab" class="nav nav-tabs">
  <li class="active"><a href="#create-tab1">cURL</a></li>
  <li><a href="#create-tab2">Ruby</a></li>
</ul>

<div class="tab-content">
<div class="tab-pane active" id="create-tab1">
<pre><code>$ curl -X POST "https://api.cloudwalk.io/v1/wallets?access_token=$TOKEN" \
-d "name=John Roe" \
-d "document_type=cpf" \
-d "document_number=93136187881" \
-d "bank_code=001" \
-d "agency=0123" \
-d "account_number=123456" \
-d "account_number_check=7"
</code></pre>
</div>

<div class="tab-pane" id="create-tab2">
<pre><code data-language="ruby">require 'net/http'
require 'json'

token = 'API_TOKEN'

payload = {
  "name" => "John Roe",
  "document_type" => "cpf",
  "document_number" => "93136187881",
  "bank_code" => "001",
  "agency" => "0123",
  "account_number" => "123456",
  "account_number_check" => "7"
}

uri = URI("https://api.cloudwalk.io/v1/wallets?access_token=#{token}")

http = Net::HTTP.new(uri.host, uri.port)
http.use_ssl = true

request = Net::HTTP::Post.new(uri.request_uri)
request.body = payload.to_json

res = http.request(request)

puts "Response #{res.code} #{res.message}: #{res.body}"
</code></pre>
</div>
</div>

<h3><%= I18n.t("api.response") %></h3>

<pre><code data-language="javascript">{
   "wallet":{
      "id":3,
      "account_id":"29af2aae",
      "name":"John Roe",
      "document_type":"cpf",
      "document_number":"93136187881",
      "bank_code":"001",
      "agency":"0123",
      "account_number":"123456",
      "account_number_check":"7",
      "last_transfer":null,
      "metadata":{},
      "created_by":1,
      "created_via":"api",
      "created_at":"2017-01-27T10:54:13Z",
      "updated_at":"2017-01-27T10:54:13Z"
   }
}
</code></pre>

<h2 id="update"><%= I18n.t("api.v1.wallets.table_of_contents.update") %></h2>

<p><%= I18n.t("api.v1.wallets.update.paragraph_1") %></p>

<h3><%= I18n.t("api.method") %></h3>

<pre><code>PUT https://api.cloudwalk.io/<%= I18n.t("api.version") %>/wallets/{wallet_id}?access_token={token}</code></pre>

<h3><%= I18n.t("api.sample") %></h3>

<ul id="update-view-tab" class="nav nav-tabs">
  <li class="active"><a href="#update-tab1">cURL</a></li>
  <li><a href="#update-tab2">Ruby</a></li>
</ul>

<div class="tab-content">
<div class="tab-pane active" id="update-tab1">
<pre><code>$ curl -X PUT "https://api.cloudwalk.io/v1/wallets/1?access_token=$TOKEN" \
-d "bank_code=002" \
-d "agency=0321" \
-d "account_number=765432" \
-d "account_number_check=1"
</code></pre>
</div>

<div class="tab-pane" id="update-tab2">
<pre><code data-language="ruby">require 'net/http'
require 'json'

token = 'API_TOKEN'

payload = {
  "bank_code" => "002",
  "agency" => "0321",
  "account_number" => "765432",
  "account_number_check" => "1"
}

uri = URI("https://api.cloudwalk.io/v1/wallets/1?access_token=#{token}")

http = Net::HTTP.new(uri.host, uri.port)
http.use_ssl = true

request = Net::HTTP::Put.new(uri.request_uri)
request.body = payload.to_json

res = http.request(request)

puts "Response #{res.code} #{res.message}: #{res.body}"
</code></pre>
</div>
</div>

<h3><%= I18n.t("api.response") %></h3>

<pre><code data-language="javascript">{
   "wallet":{
      "id":1,
      "account_id":"29af2aae",
      "name":"John Roe",
      "document_type":"cpf",
      "document_number":"40545255988",
      "bank_code":"002",
      "agency":"0321",
      "account_number":"765432",
      "account_number_check":"1",
      "last_transfer":null,
      "metadata":{},
      "created_by":1,
      "created_via":"api",
      "created_at":"2017-01-27T09:47:49Z",
      "updated_at":"2017-01-27T10:59:03Z"
   }
}
</code></pre>

<% content_for :javascripts do %>
  $('#index-view-tab a:first').tab('show');
  $('#index-view-tab a').click(function (e) { e.preventDefault(); $(this).tab('show'); });

  $('#show-view-tab a:first').tab('show');
  $('#show-view-tab a').click(function (e) { e.preventDefault(); $(this).tab('show'); });

  $('#create-view-tab a:first').tab('show');
  $('#create-view-tab a').click(function (e) { e.preventDefault(); $(this).tab('show'); });

  $('#update-view-tab a:first').tab('show');
  $('#update-view-tab a').click(function (e) { e.preventDefault(); $(this).tab('show'); });
<% end %>
